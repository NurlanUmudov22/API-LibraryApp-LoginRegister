2024-07-07 14:17:02.436 +04:00  INF  Now listening on: https://localhost:7136
2024-07-07 14:17:02.471 +04:00  INF  Now listening on: http://localhost:5116
2024-07-07 14:17:02.476 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-07-07 14:17:02.476 +04:00  INF  Hosting environment: Development
2024-07-07 14:17:02.476 +04:00  INF  Content root path: C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\
2024-07-07 14:17:02.791 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger - -
2024-07-07 14:17:03.068 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger - - - 301 0 - 281.7917ms
2024-07-07 14:17:03.069 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/index.html - -
2024-07-07 14:17:03.143 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/index.html - - - 200 - text/html;charset=utf-8 73.4472ms
2024-07-07 14:17:03.155 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - -
2024-07-07 14:17:03.155 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/swagger-ui-bundle.js - -
2024-07-07 14:17:03.155 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/swagger-ui.css - -
2024-07-07 14:17:03.155 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/swagger-ui-standalone-preset.js - -
2024-07-07 14:17:03.158 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 2.3748ms
2024-07-07 14:17:03.172 +04:00  INF  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-07-07 14:17:03.172 +04:00  INF  Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-07-07 14:17:03.173 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 17.7172ms
2024-07-07 14:17:03.173 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/swagger-ui.css - - - 200 144929 text/css 17.6895ms
2024-07-07 14:17:03.179 +04:00  INF  Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-07-07 14:17:03.180 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 24.4547ms
2024-07-07 14:17:03.279 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_vs/browserLink - -
2024-07-07 14:17:03.330 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.9894ms
2024-07-07 14:17:03.468 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/favicon-32x32.png - -
2024-07-07 14:17:03.469 +04:00  INF  Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-07-07 14:17:03.469 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/favicon-32x32.png - - - 200 628 image/png 0.9200ms
2024-07-07 14:17:03.511 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - -
2024-07-07 14:17:03.608 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 96.9565ms
2024-07-07 14:17:43.138 +04:00  INF  Request starting HTTP/2 POST https://localhost:7136/api/admin/Author/Create application/json 101
2024-07-07 14:17:43.148 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.Create (LibraryApp)'
2024-07-07 14:17:43.250 +04:00  INF  Route matched with {action = "Create", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Service.DTOs.Admin.Authors.AuthorCreateDto) on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 14:17:44.609 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:17:46.109 +04:00  INF  Executed DbCommand (64ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 100), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([Address], [Age], [CreatedDate], [Email], [FullName], [SoftDelete])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-07-07 14:17:46.185 +04:00  INF  Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-07 14:17:46.219 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.Create (LibraryApp) in 2961.7705ms
2024-07-07 14:17:46.220 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.Create (LibraryApp)'
2024-07-07 14:17:46.224 +04:00  INF  Request finished HTTP/2 POST https://localhost:7136/api/admin/Author/Create application/json 101 - 201 - application/json;+charset=utf-8 3085.9056ms
2024-07-07 14:18:01.264 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - -
2024-07-07 14:18:01.266 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 14:18:01.270 +04:00  INF  Route matched with {action = "GetAll", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 14:18:01.316 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:18:01.764 +04:00  INF  Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[Age], [a].[CreatedDate], [a].[Email], [a].[FullName], [a].[SoftDelete]
FROM [Authors] AS [a]
2024-07-07 14:18:01.784 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Authors.AuthorDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 14:18:01.787 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp) in 517.1748ms
2024-07-07 14:18:01.788 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 14:18:01.788 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - - - 200 - application/json;+charset=utf-8 523.5033ms
2024-07-07 14:18:12.440 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Author/GetById/1 - -
2024-07-07 14:18:12.441 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetById (LibraryApp)'
2024-07-07 14:18:12.445 +04:00  INF  Route matched with {action = "GetById", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 14:18:12.458 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:18:12.611 +04:00  INF  Executed DbCommand (75ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Address], [a].[Age], [a].[CreatedDate], [a].[Email], [a].[FullName], [a].[SoftDelete]
FROM [Authors] AS [a]
WHERE [a].[Id] = @__id_0
2024-07-07 14:18:12.615 +04:00  INF  Executing OkObjectResult, writing value of type 'Service.DTOs.Admin.Authors.AuthorDto'.
2024-07-07 14:18:12.615 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.GetById (LibraryApp) in 170.0566ms
2024-07-07 14:18:12.615 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetById (LibraryApp)'
2024-07-07 14:18:12.616 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Author/GetById/1 - - - 200 - application/json;+charset=utf-8 175.6773ms
2024-07-07 14:18:18.922 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Author/GetById/11 - -
2024-07-07 14:18:18.923 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetById (LibraryApp)'
2024-07-07 14:18:18.923 +04:00  INF  Route matched with {action = "GetById", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 14:18:18.924 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:18:18.931 +04:00  INF  Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Address], [a].[Age], [a].[CreatedDate], [a].[Email], [a].[FullName], [a].[SoftDelete]
FROM [Authors] AS [a]
WHERE [a].[Id] = @__id_0
2024-07-07 14:18:19.004 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.GetById (LibraryApp) in 80.4308ms
2024-07-07 14:18:19.004 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetById (LibraryApp)'
2024-07-07 14:18:19.009 +04:00  ERR  An unhandled exception has occurred while executing the request.Service.Helpers.Exceptions.NotFoundException: Data was not found
   at Service.Services.AuthorService.GetByIdAsync(Nullable`1 id) in C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\Service\Services\AuthorService.cs:line 67
   at LibraryApp.Controllers.Admin.AuthorController.GetById(Int32 id) in C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\Controllers\Admin\AuthorController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)

2024-07-07 14:18:19.217 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Author/GetById/11 - - - 500 - text/plain;+charset=utf-8 294.4982ms
2024-07-07 14:19:33.407 +04:00  INF  Now listening on: https://localhost:7136
2024-07-07 14:19:33.437 +04:00  INF  Now listening on: http://localhost:5116
2024-07-07 14:19:33.441 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-07-07 14:19:33.441 +04:00  INF  Hosting environment: Development
2024-07-07 14:19:33.441 +04:00  INF  Content root path: C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\
2024-07-07 14:19:33.902 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/index.html - -
2024-07-07 14:19:34.123 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/index.html - - - 200 - text/html;charset=utf-8 224.2440ms
2024-07-07 14:19:34.136 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_vs/browserLink - -
2024-07-07 14:19:34.136 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - -
2024-07-07 14:19:34.138 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 2.1721ms
2024-07-07 14:19:34.186 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.0525ms
2024-07-07 14:19:34.467 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - -
2024-07-07 14:19:34.560 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 93.5725ms
2024-07-07 14:19:53.793 +04:00  INF  Request starting HTTP/2 PUT https://localhost:7136/api/admin/Author/Edit/1 application/json 17
2024-07-07 14:19:53.804 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.Edit (LibraryApp)'
2024-07-07 14:19:53.839 +04:00  INF  Route matched with {action = "Edit", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32, Service.DTOs.Admin.Authors.AuthorEditDto) on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 14:19:54.810 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:19:55.746 +04:00  INF  Executed DbCommand (62ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Address], [a].[Age], [a].[CreatedDate], [a].[Email], [a].[FullName], [a].[SoftDelete]
FROM [Authors] AS [a]
WHERE [a].[Id] = @__id_0
2024-07-07 14:19:56.032 +04:00  ERR  Failed executing DbCommand (88ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 100), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Authors] SET [Address] = @p0, [Age] = @p1, [CreatedDate] = @p2, [Email] = @p3, [FullName] = @p4, [SoftDelete] = @p5
WHERE [Id] = @p6;
SELECT @@ROWCOUNT;
2024-07-07 14:19:56.071 +04:00  ERR  An exception occurred in the database while saving changes for context type 'Repository.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Address', table 'LibraryAppDb-API.dbo.Authors'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:155ffe94-9618-42cd-9052-b02235e4dce8
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Address', table 'LibraryAppDb-API.dbo.Authors'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:155ffe94-9618-42cd-9052-b02235e4dce8
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)

2024-07-07 14:19:56.084 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.Edit (LibraryApp) in 2236.9352ms
2024-07-07 14:19:56.085 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.Edit (LibraryApp)'
2024-07-07 14:19:56.092 +04:00  ERR  An unhandled exception has occurred while executing the request.Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Address', table 'LibraryAppDb-API.dbo.Authors'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:155ffe94-9618-42cd-9052-b02235e4dce8
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Repository.Repositories.BaseRepository`1.EditAsync(T entity) in C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\Repository\Repositories\BaseRepository.cs:line 40
   at Service.Services.AuthorService.EditAsync(Nullable`1 id, AuthorEditDto model) in C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\Service\Services\AuthorService.cs:line 53
   at LibraryApp.Controllers.Admin.AuthorController.Edit(Int32 id, AuthorEditDto request) in C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\Controllers\Admin\AuthorController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)

2024-07-07 14:19:56.142 +04:00  INF  Request finished HTTP/2 PUT https://localhost:7136/api/admin/Author/Edit/1 application/json 17 - 500 - text/plain;+charset=utf-8 2348.5032ms
2024-07-07 14:20:12.095 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - -
2024-07-07 14:20:12.096 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 14:20:12.100 +04:00  INF  Route matched with {action = "GetAll", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 14:20:12.150 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:20:12.168 +04:00  INF  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[Age], [a].[CreatedDate], [a].[Email], [a].[FullName], [a].[SoftDelete]
FROM [Authors] AS [a]
2024-07-07 14:20:12.187 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Authors.AuthorDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 14:20:12.193 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp) in 92.9721ms
2024-07-07 14:20:12.193 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 14:20:12.194 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - - - 200 - application/json;+charset=utf-8 99.1311ms
2024-07-07 14:20:25.995 +04:00  INF  Request starting HTTP/2 POST https://localhost:7136/api/admin/Author/Create application/json 84
2024-07-07 14:20:25.997 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.Create (LibraryApp)'
2024-07-07 14:20:26.000 +04:00  INF  Route matched with {action = "Create", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Service.DTOs.Admin.Authors.AuthorCreateDto) on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 14:20:26.013 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:20:26.077 +04:00  INF  Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 100), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([Address], [Age], [CreatedDate], [Email], [FullName], [SoftDelete])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-07-07 14:20:26.120 +04:00  INF  Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-07 14:20:26.145 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.Create (LibraryApp) in 145.4339ms
2024-07-07 14:20:26.146 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.Create (LibraryApp)'
2024-07-07 14:20:26.146 +04:00  INF  Request finished HTTP/2 POST https://localhost:7136/api/admin/Author/Create application/json 84 - 201 - application/json;+charset=utf-8 150.4631ms
2024-07-07 14:20:33.357 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - -
2024-07-07 14:20:33.357 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 14:20:33.358 +04:00  INF  Route matched with {action = "GetAll", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 14:20:33.359 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:20:33.362 +04:00  INF  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[Age], [a].[CreatedDate], [a].[Email], [a].[FullName], [a].[SoftDelete]
FROM [Authors] AS [a]
2024-07-07 14:20:33.363 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Authors.AuthorDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 14:20:33.363 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp) in 5.3472ms
2024-07-07 14:20:33.363 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 14:20:33.363 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - - - 200 - application/json;+charset=utf-8 6.2147ms
2024-07-07 14:20:50.612 +04:00  INF  Request starting HTTP/2 PUT https://localhost:7136/api/admin/Author/Edit/2 application/json 84
2024-07-07 14:20:50.613 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.Edit (LibraryApp)'
2024-07-07 14:20:50.613 +04:00  INF  Route matched with {action = "Edit", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32, Service.DTOs.Admin.Authors.AuthorEditDto) on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 14:20:50.614 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:20:50.624 +04:00  INF  Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Address], [a].[Age], [a].[CreatedDate], [a].[Email], [a].[FullName], [a].[SoftDelete]
FROM [Authors] AS [a]
WHERE [a].[Id] = @__id_0
2024-07-07 14:20:50.629 +04:00  INF  Executed DbCommand (4ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 100), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Authors] SET [Address] = @p0, [Age] = @p1, [CreatedDate] = @p2, [Email] = @p3, [FullName] = @p4, [SoftDelete] = @p5
WHERE [Id] = @p6;
SELECT @@ROWCOUNT;
2024-07-07 14:20:50.641 +04:00  INF  Executing StatusCodeResult, setting HTTP status code 200
2024-07-07 14:20:50.641 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.Edit (LibraryApp) in 28.0573ms
2024-07-07 14:20:50.641 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.Edit (LibraryApp)'
2024-07-07 14:20:50.642 +04:00  INF  Request finished HTTP/2 PUT https://localhost:7136/api/admin/Author/Edit/2 application/json 84 - 200 0 - 29.7665ms
2024-07-07 14:21:03.553 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - -
2024-07-07 14:21:03.553 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 14:21:03.553 +04:00  INF  Route matched with {action = "GetAll", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 14:21:03.555 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:21:03.557 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[Age], [a].[CreatedDate], [a].[Email], [a].[FullName], [a].[SoftDelete]
FROM [Authors] AS [a]
2024-07-07 14:21:03.558 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Authors.AuthorDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 14:21:03.558 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp) in 4.7279ms
2024-07-07 14:21:03.559 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 14:21:03.559 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - - - 200 - application/json;+charset=utf-8 5.8817ms
2024-07-07 14:21:04.811 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - -
2024-07-07 14:21:04.812 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 14:21:04.812 +04:00  INF  Route matched with {action = "GetAll", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 14:21:04.813 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:21:04.814 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[Age], [a].[CreatedDate], [a].[Email], [a].[FullName], [a].[SoftDelete]
FROM [Authors] AS [a]
2024-07-07 14:21:04.815 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Authors.AuthorDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 14:21:04.815 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp) in 3.0395ms
2024-07-07 14:21:04.815 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 14:21:04.815 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - - - 200 - application/json;+charset=utf-8 4.0876ms
2024-07-07 14:21:15.807 +04:00  INF  Request starting HTTP/2 DELETE https://localhost:7136/api/admin/Author/Delete?id=2 - -
2024-07-07 14:21:15.808 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.Delete (LibraryApp)'
2024-07-07 14:21:15.811 +04:00  INF  Route matched with {action = "Delete", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 14:21:15.812 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:21:15.904 +04:00  INF  Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Address], [a].[Age], [a].[CreatedDate], [a].[Email], [a].[FullName], [a].[SoftDelete]
FROM [Authors] AS [a]
WHERE [a].[Id] = @__id_0
2024-07-07 14:21:15.928 +04:00  INF  Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Authors]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2024-07-07 14:21:15.936 +04:00  INF  Executing StatusCodeResult, setting HTTP status code 200
2024-07-07 14:21:15.936 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.Delete (LibraryApp) in 125.2405ms
2024-07-07 14:21:15.936 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.Delete (LibraryApp)'
2024-07-07 14:21:15.937 +04:00  INF  Request finished HTTP/2 DELETE https://localhost:7136/api/admin/Author/Delete?id=2 - - - 200 0 - 129.6592ms
2024-07-07 14:21:26.368 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - -
2024-07-07 14:21:26.368 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 14:21:26.368 +04:00  INF  Route matched with {action = "GetAll", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 14:21:26.369 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:21:26.373 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[Age], [a].[CreatedDate], [a].[Email], [a].[FullName], [a].[SoftDelete]
FROM [Authors] AS [a]
2024-07-07 14:21:26.373 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Authors.AuthorDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 14:21:26.373 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp) in 4.693ms
2024-07-07 14:21:26.373 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 14:21:26.374 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - - - 200 - application/json;+charset=utf-8 5.6363ms
2024-07-07 14:21:27.682 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - -
2024-07-07 14:21:27.682 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 14:21:27.682 +04:00  INF  Route matched with {action = "GetAll", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 14:21:27.683 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:21:27.685 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[Age], [a].[CreatedDate], [a].[Email], [a].[FullName], [a].[SoftDelete]
FROM [Authors] AS [a]
2024-07-07 14:21:27.686 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Authors.AuthorDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 14:21:27.686 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp) in 3.9116ms
2024-07-07 14:21:27.686 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 14:21:27.687 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - - - 200 - application/json;+charset=utf-8 5.0542ms
2024-07-07 14:24:51.113 +04:00  INF  Now listening on: https://localhost:7136
2024-07-07 14:24:51.146 +04:00  INF  Now listening on: http://localhost:5116
2024-07-07 14:24:51.150 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-07-07 14:24:51.150 +04:00  INF  Hosting environment: Development
2024-07-07 14:24:51.151 +04:00  INF  Content root path: C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\
2024-07-07 14:24:51.394 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/index.html - -
2024-07-07 14:24:51.619 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/index.html - - - 200 - text/html;charset=utf-8 228.4743ms
2024-07-07 14:24:51.631 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - -
2024-07-07 14:24:51.633 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 2.0977ms
2024-07-07 14:24:51.752 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_vs/browserLink - -
2024-07-07 14:24:51.791 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.2212ms
2024-07-07 14:24:51.857 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - -
2024-07-07 14:24:51.960 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 103.1054ms
2024-07-07 14:25:23.197 +04:00  INF  Request starting HTTP/2 POST https://localhost:7136/api/admin/Book/Create application/json 98
2024-07-07 14:25:23.206 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.BookController.Create (LibraryApp)'
2024-07-07 14:25:23.238 +04:00  INF  Route matched with {action = "Create", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Service.DTOs.Admin.Books.BookCreateDto) on controller LibraryApp.Controllers.Admin.BookController (LibraryApp).
2024-07-07 14:25:24.225 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:25:25.207 +04:00  INF  Executed DbCommand (140ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([CreatedDate], [Description], [Name], [PageCount], [SoftDelete])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-07-07 14:25:25.316 +04:00  INF  Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BookAuthors] ([AuthorId], [BookId], [CreatedDate], [SoftDelete])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [BookAuthors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-07-07 14:25:25.328 +04:00  INF  Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-07 14:25:25.358 +04:00  INF  Executed action LibraryApp.Controllers.Admin.BookController.Create (LibraryApp) in 2114.3453ms
2024-07-07 14:25:25.359 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.BookController.Create (LibraryApp)'
2024-07-07 14:25:25.365 +04:00  INF  Request finished HTTP/2 POST https://localhost:7136/api/admin/Book/Create application/json 98 - 201 - application/json;+charset=utf-8 2167.6590ms
2024-07-07 14:25:35.228 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - -
2024-07-07 14:25:35.230 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp)'
2024-07-07 14:25:35.234 +04:00  INF  Route matched with {action = "GetAll", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.BookController (LibraryApp).
2024-07-07 14:25:35.282 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:25:35.712 +04:00  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedDate], [b].[Description], [b].[Name], [b].[PageCount], [b].[SoftDelete], [t].[Id], [t].[AuthorId], [t].[BookId], [t].[CreatedDate], [t].[SoftDelete], [t].[Id0], [t].[Address], [t].[Age], [t].[CreatedDate0], [t].[Email], [t].[FullName], [t].[SoftDelete0]
FROM [Books] AS [b]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[AuthorId], [b0].[BookId], [b0].[CreatedDate], [b0].[SoftDelete], [a].[Id] AS [Id0], [a].[Address], [a].[Age], [a].[CreatedDate] AS [CreatedDate0], [a].[Email], [a].[FullName], [a].[SoftDelete] AS [SoftDelete0]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [t] ON [b].[Id] = [t].[BookId]
ORDER BY [b].[Id], [t].[Id]
2024-07-07 14:25:35.756 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Books.BookDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 14:25:35.761 +04:00  INF  Executed action LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp) in 526.3522ms
2024-07-07 14:25:35.761 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp)'
2024-07-07 14:25:35.761 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - - - 200 - application/json;+charset=utf-8 532.7688ms
2024-07-07 14:27:20.549 +04:00  INF  Now listening on: https://localhost:7136
2024-07-07 14:27:20.579 +04:00  INF  Now listening on: http://localhost:5116
2024-07-07 14:27:20.583 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-07-07 14:27:20.583 +04:00  INF  Hosting environment: Development
2024-07-07 14:27:20.584 +04:00  INF  Content root path: C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\
2024-07-07 14:27:20.935 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/index.html - -
2024-07-07 14:27:21.166 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/index.html - - - 200 - text/html;charset=utf-8 234.8068ms
2024-07-07 14:27:21.173 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - -
2024-07-07 14:27:21.173 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_vs/browserLink - -
2024-07-07 14:27:21.175 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 1.8117ms
2024-07-07 14:27:21.215 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.3386ms
2024-07-07 14:27:21.499 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - -
2024-07-07 14:27:21.594 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 94.7584ms
2024-07-07 14:27:30.156 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - -
2024-07-07 14:27:30.164 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp)'
2024-07-07 14:27:30.184 +04:00  INF  Route matched with {action = "GetAll", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.BookController (LibraryApp).
2024-07-07 14:27:31.128 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 14:27:32.046 +04:00  INF  Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedDate], [b].[Description], [b].[Name], [b].[PageCount], [b].[SoftDelete], [t].[Id], [t].[AuthorId], [t].[BookId], [t].[CreatedDate], [t].[SoftDelete], [t].[Id0], [t].[Address], [t].[Age], [t].[CreatedDate0], [t].[Email], [t].[FullName], [t].[SoftDelete0]
FROM [Books] AS [b]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[AuthorId], [b0].[BookId], [b0].[CreatedDate], [b0].[SoftDelete], [a].[Id] AS [Id0], [a].[Address], [a].[Age], [a].[CreatedDate] AS [CreatedDate0], [a].[Email], [a].[FullName], [a].[SoftDelete] AS [SoftDelete0]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [t] ON [b].[Id] = [t].[BookId]
ORDER BY [b].[Id], [t].[Id]
2024-07-07 14:27:32.196 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Books.BookDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 14:27:32.208 +04:00  INF  Executed action LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp) in 2017.3131ms
2024-07-07 14:27:32.209 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp)'
2024-07-07 14:27:32.214 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - - - 200 - application/json;+charset=utf-8 2058.7352ms
2024-07-07 15:28:35.550 +04:00  INF  Now listening on: https://localhost:7136
2024-07-07 15:28:35.582 +04:00  INF  Now listening on: http://localhost:5116
2024-07-07 15:28:35.586 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-07-07 15:28:35.586 +04:00  INF  Hosting environment: Development
2024-07-07 15:28:35.586 +04:00  INF  Content root path: C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\
2024-07-07 15:28:36.336 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/index.html - -
2024-07-07 15:28:36.555 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/index.html - - - 200 - text/html;charset=utf-8 221.7392ms
2024-07-07 15:28:36.562 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - -
2024-07-07 15:28:36.565 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 2.3956ms
2024-07-07 15:28:36.695 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_vs/browserLink - -
2024-07-07 15:28:36.731 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.5257ms
2024-07-07 15:28:36.955 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - -
2024-07-07 15:28:37.072 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.2351ms
2024-07-07 15:28:44.763 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - -
2024-07-07 15:28:44.771 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp)'
2024-07-07 15:28:44.793 +04:00  INF  Route matched with {action = "GetAll", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.BookController (LibraryApp).
2024-07-07 15:28:45.725 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 15:28:46.760 +04:00  INF  Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedDate], [b].[Description], [b].[Name], [b].[PageCount], [b].[SoftDelete], [t].[Id], [t].[AuthorId], [t].[BookId], [t].[CreatedDate], [t].[SoftDelete], [t].[Id0], [t].[Address], [t].[Age], [t].[CreatedDate0], [t].[Email], [t].[FullName], [t].[SoftDelete0]
FROM [Books] AS [b]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[AuthorId], [b0].[BookId], [b0].[CreatedDate], [b0].[SoftDelete], [a].[Id] AS [Id0], [a].[Address], [a].[Age], [a].[CreatedDate] AS [CreatedDate0], [a].[Email], [a].[FullName], [a].[SoftDelete] AS [SoftDelete0]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [t] ON [b].[Id] = [t].[BookId]
ORDER BY [b].[Id], [t].[Id]
2024-07-07 15:28:46.911 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Books.BookDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 15:28:46.923 +04:00  INF  Executed action LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp) in 2123.6047ms
2024-07-07 15:28:46.924 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp)'
2024-07-07 15:28:46.929 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - - - 200 - application/json;+charset=utf-8 2166.5126ms
2024-07-07 15:29:18.430 +04:00  INF  Request starting HTTP/2 POST https://localhost:7136/api/admin/Book/Create application/json 87
2024-07-07 15:29:18.433 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.BookController.Create (LibraryApp)'
2024-07-07 15:29:18.447 +04:00  INF  Route matched with {action = "Create", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Service.DTOs.Admin.Books.BookCreateDto) on controller LibraryApp.Controllers.Admin.BookController (LibraryApp).
2024-07-07 15:29:18.498 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 15:29:18.739 +04:00  INF  Executed DbCommand (41ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([CreatedDate], [Description], [Name], [PageCount], [SoftDelete])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-07-07 15:29:18.803 +04:00  INF  Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BookAuthors] ([AuthorId], [BookId], [CreatedDate], [SoftDelete])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [BookAuthors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-07-07 15:29:18.809 +04:00  INF  Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-07 15:29:18.832 +04:00  INF  Executed action LibraryApp.Controllers.Admin.BookController.Create (LibraryApp) in 384.284ms
2024-07-07 15:29:18.832 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.BookController.Create (LibraryApp)'
2024-07-07 15:29:18.832 +04:00  INF  Request finished HTTP/2 POST https://localhost:7136/api/admin/Book/Create application/json 87 - 201 - application/json;+charset=utf-8 402.7016ms
2024-07-07 15:29:27.225 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - -
2024-07-07 15:29:27.226 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp)'
2024-07-07 15:29:27.227 +04:00  INF  Route matched with {action = "GetAll", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.BookController (LibraryApp).
2024-07-07 15:29:27.240 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 15:29:27.254 +04:00  INF  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedDate], [b].[Description], [b].[Name], [b].[PageCount], [b].[SoftDelete], [t].[Id], [t].[AuthorId], [t].[BookId], [t].[CreatedDate], [t].[SoftDelete], [t].[Id0], [t].[Address], [t].[Age], [t].[CreatedDate0], [t].[Email], [t].[FullName], [t].[SoftDelete0]
FROM [Books] AS [b]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[AuthorId], [b0].[BookId], [b0].[CreatedDate], [b0].[SoftDelete], [a].[Id] AS [Id0], [a].[Address], [a].[Age], [a].[CreatedDate] AS [CreatedDate0], [a].[Email], [a].[FullName], [a].[SoftDelete] AS [SoftDelete0]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [t] ON [b].[Id] = [t].[BookId]
ORDER BY [b].[Id], [t].[Id]
2024-07-07 15:29:27.256 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Books.BookDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 15:29:27.257 +04:00  INF  Executed action LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp) in 29.8572ms
2024-07-07 15:29:27.257 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp)'
2024-07-07 15:29:27.257 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - - - 200 - application/json;+charset=utf-8 31.8614ms
2024-07-07 15:29:44.316 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetById/1 - -
2024-07-07 15:29:44.317 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.BookController.GetById (LibraryApp)'
2024-07-07 15:29:44.323 +04:00  INF  Route matched with {action = "GetById", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryApp.Controllers.Admin.BookController (LibraryApp).
2024-07-07 15:29:44.324 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 15:29:44.371 +04:00  INF  Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedDate], [t].[Description], [t].[Name], [t].[PageCount], [t].[SoftDelete], [t0].[Id], [t0].[AuthorId], [t0].[BookId], [t0].[CreatedDate], [t0].[SoftDelete], [t0].[Id0], [t0].[Address], [t0].[Age], [t0].[CreatedDate0], [t0].[Email], [t0].[FullName], [t0].[SoftDelete0]
FROM (
    SELECT TOP(1) [b].[Id], [b].[CreatedDate], [b].[Description], [b].[Name], [b].[PageCount], [b].[SoftDelete]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[AuthorId], [b0].[BookId], [b0].[CreatedDate], [b0].[SoftDelete], [a].[Id] AS [Id0], [a].[Address], [a].[Age], [a].[CreatedDate] AS [CreatedDate0], [a].[Email], [a].[FullName], [a].[SoftDelete] AS [SoftDelete0]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[BookId]
ORDER BY [t].[Id], [t0].[Id]
2024-07-07 15:29:44.375 +04:00  INF  Executing OkObjectResult, writing value of type 'Service.DTOs.Admin.Books.BookDto'.
2024-07-07 15:29:44.376 +04:00  INF  Executed action LibraryApp.Controllers.Admin.BookController.GetById (LibraryApp) in 52.7414ms
2024-07-07 15:29:44.376 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.BookController.GetById (LibraryApp)'
2024-07-07 15:29:44.376 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetById/1 - - - 200 - application/json;+charset=utf-8 59.8661ms
2024-07-07 15:29:48.398 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetById/2 - -
2024-07-07 15:29:48.399 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.BookController.GetById (LibraryApp)'
2024-07-07 15:29:48.399 +04:00  INF  Route matched with {action = "GetById", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryApp.Controllers.Admin.BookController (LibraryApp).
2024-07-07 15:29:48.400 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 15:29:48.403 +04:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedDate], [t].[Description], [t].[Name], [t].[PageCount], [t].[SoftDelete], [t0].[Id], [t0].[AuthorId], [t0].[BookId], [t0].[CreatedDate], [t0].[SoftDelete], [t0].[Id0], [t0].[Address], [t0].[Age], [t0].[CreatedDate0], [t0].[Email], [t0].[FullName], [t0].[SoftDelete0]
FROM (
    SELECT TOP(1) [b].[Id], [b].[CreatedDate], [b].[Description], [b].[Name], [b].[PageCount], [b].[SoftDelete]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[AuthorId], [b0].[BookId], [b0].[CreatedDate], [b0].[SoftDelete], [a].[Id] AS [Id0], [a].[Address], [a].[Age], [a].[CreatedDate] AS [CreatedDate0], [a].[Email], [a].[FullName], [a].[SoftDelete] AS [SoftDelete0]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[BookId]
ORDER BY [t].[Id], [t0].[Id]
2024-07-07 15:29:48.404 +04:00  INF  Executing OkObjectResult, writing value of type 'Service.DTOs.Admin.Books.BookDto'.
2024-07-07 15:29:48.404 +04:00  INF  Executed action LibraryApp.Controllers.Admin.BookController.GetById (LibraryApp) in 5.3486ms
2024-07-07 15:29:48.404 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.BookController.GetById (LibraryApp)'
2024-07-07 15:29:48.405 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetById/2 - - - 200 - application/json;+charset=utf-8 6.3898ms
2024-07-07 15:29:51.962 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetById/22 - -
2024-07-07 15:29:51.963 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.BookController.GetById (LibraryApp)'
2024-07-07 15:29:51.963 +04:00  INF  Route matched with {action = "GetById", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryApp.Controllers.Admin.BookController (LibraryApp).
2024-07-07 15:29:51.964 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 15:29:51.966 +04:00  INF  Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedDate], [t].[Description], [t].[Name], [t].[PageCount], [t].[SoftDelete], [t0].[Id], [t0].[AuthorId], [t0].[BookId], [t0].[CreatedDate], [t0].[SoftDelete], [t0].[Id0], [t0].[Address], [t0].[Age], [t0].[CreatedDate0], [t0].[Email], [t0].[FullName], [t0].[SoftDelete0]
FROM (
    SELECT TOP(1) [b].[Id], [b].[CreatedDate], [b].[Description], [b].[Name], [b].[PageCount], [b].[SoftDelete]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[AuthorId], [b0].[BookId], [b0].[CreatedDate], [b0].[SoftDelete], [a].[Id] AS [Id0], [a].[Address], [a].[Age], [a].[CreatedDate] AS [CreatedDate0], [a].[Email], [a].[FullName], [a].[SoftDelete] AS [SoftDelete0]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[BookId]
ORDER BY [t].[Id], [t0].[Id]
2024-07-07 15:29:51.967 +04:00  INF  Executed action LibraryApp.Controllers.Admin.BookController.GetById (LibraryApp) in 3.773ms
2024-07-07 15:29:51.967 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.BookController.GetById (LibraryApp)'
2024-07-07 15:29:51.971 +04:00  ERR  An unhandled exception has occurred while executing the request.Service.Helpers.Exceptions.NotFoundException: Data not found
   at Service.Services.BookService.GetByIdAsync(Nullable`1 id) in C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\Service\Services\BookService.cs:line 88
   at LibraryApp.Controllers.Admin.BookController.GetById(Int32 id) in C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\Controllers\Admin\BookController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)

2024-07-07 15:29:52.026 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetById/22 - - - 500 - text/plain;+charset=utf-8 63.4438ms
2024-07-07 15:30:14.206 +04:00  INF  Request starting HTTP/2 PUT https://localhost:7136/api/admin/Book/Edit/2 application/json 87
2024-07-07 15:30:14.207 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.BookController.Edit (LibraryApp)'
2024-07-07 15:30:14.211 +04:00  INF  Route matched with {action = "Edit", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32, Service.DTOs.Admin.Books.BookEditDto) on controller LibraryApp.Controllers.Admin.BookController (LibraryApp).
2024-07-07 15:30:14.213 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 15:30:14.230 +04:00  INF  Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedDate], [b].[Description], [b].[Name], [b].[PageCount], [b].[SoftDelete]
FROM [Books] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-07 15:30:14.317 +04:00  INF  Executed DbCommand (75ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Books] SET [CreatedDate] = @p0, [Description] = @p1, [Name] = @p2, [PageCount] = @p3, [SoftDelete] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2024-07-07 15:30:14.327 +04:00  INF  Executing StatusCodeResult, setting HTTP status code 200
2024-07-07 15:30:14.327 +04:00  INF  Executed action LibraryApp.Controllers.Admin.BookController.Edit (LibraryApp) in 115.0844ms
2024-07-07 15:30:14.327 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.BookController.Edit (LibraryApp)'
2024-07-07 15:30:14.327 +04:00  INF  Request finished HTTP/2 PUT https://localhost:7136/api/admin/Book/Edit/2 application/json 87 - 200 0 - 120.8183ms
2024-07-07 15:30:23.782 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - -
2024-07-07 15:30:23.783 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp)'
2024-07-07 15:30:23.783 +04:00  INF  Route matched with {action = "GetAll", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.BookController (LibraryApp).
2024-07-07 15:30:23.784 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 15:30:23.794 +04:00  INF  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedDate], [b].[Description], [b].[Name], [b].[PageCount], [b].[SoftDelete], [t].[Id], [t].[AuthorId], [t].[BookId], [t].[CreatedDate], [t].[SoftDelete], [t].[Id0], [t].[Address], [t].[Age], [t].[CreatedDate0], [t].[Email], [t].[FullName], [t].[SoftDelete0]
FROM [Books] AS [b]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[AuthorId], [b0].[BookId], [b0].[CreatedDate], [b0].[SoftDelete], [a].[Id] AS [Id0], [a].[Address], [a].[Age], [a].[CreatedDate] AS [CreatedDate0], [a].[Email], [a].[FullName], [a].[SoftDelete] AS [SoftDelete0]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [t] ON [b].[Id] = [t].[BookId]
ORDER BY [b].[Id], [t].[Id]
2024-07-07 15:30:23.795 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Books.BookDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 15:30:23.796 +04:00  INF  Executed action LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp) in 12.6758ms
2024-07-07 15:30:23.796 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp)'
2024-07-07 15:30:23.796 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - - - 200 - application/json;+charset=utf-8 14.1052ms
2024-07-07 15:30:39.302 +04:00  INF  Request starting HTTP/2 DELETE https://localhost:7136/api/admin/Book/Delete?id=2 - -
2024-07-07 15:30:39.303 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.BookController.Delete (LibraryApp)'
2024-07-07 15:30:39.306 +04:00  INF  Route matched with {action = "Delete", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller LibraryApp.Controllers.Admin.BookController (LibraryApp).
2024-07-07 15:30:39.307 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 15:30:39.317 +04:00  INF  Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedDate], [b].[Description], [b].[Name], [b].[PageCount], [b].[SoftDelete]
FROM [Books] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-07 15:30:39.409 +04:00  INF  Executed DbCommand (74ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Books]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2024-07-07 15:30:39.416 +04:00  INF  Executing StatusCodeResult, setting HTTP status code 200
2024-07-07 15:30:39.417 +04:00  INF  Executed action LibraryApp.Controllers.Admin.BookController.Delete (LibraryApp) in 110.094ms
2024-07-07 15:30:39.417 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.BookController.Delete (LibraryApp)'
2024-07-07 15:30:39.417 +04:00  INF  Request finished HTTP/2 DELETE https://localhost:7136/api/admin/Book/Delete?id=2 - - - 200 0 - 114.5915ms
2024-07-07 15:30:47.131 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - -
2024-07-07 15:30:47.131 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp)'
2024-07-07 15:30:47.132 +04:00  INF  Route matched with {action = "GetAll", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.BookController (LibraryApp).
2024-07-07 15:30:47.132 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 15:30:47.135 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedDate], [b].[Description], [b].[Name], [b].[PageCount], [b].[SoftDelete], [t].[Id], [t].[AuthorId], [t].[BookId], [t].[CreatedDate], [t].[SoftDelete], [t].[Id0], [t].[Address], [t].[Age], [t].[CreatedDate0], [t].[Email], [t].[FullName], [t].[SoftDelete0]
FROM [Books] AS [b]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[AuthorId], [b0].[BookId], [b0].[CreatedDate], [b0].[SoftDelete], [a].[Id] AS [Id0], [a].[Address], [a].[Age], [a].[CreatedDate] AS [CreatedDate0], [a].[Email], [a].[FullName], [a].[SoftDelete] AS [SoftDelete0]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [t] ON [b].[Id] = [t].[BookId]
ORDER BY [b].[Id], [t].[Id]
2024-07-07 15:30:47.135 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Books.BookDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 15:30:47.135 +04:00  INF  Executed action LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp) in 3.7727ms
2024-07-07 15:30:47.136 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.BookController.GetAll (LibraryApp)'
2024-07-07 15:30:47.136 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - - - 200 - application/json;+charset=utf-8 4.6986ms
2024-07-07 15:31:37.920 +04:00  INF  Now listening on: https://localhost:7136
2024-07-07 15:31:37.950 +04:00  INF  Now listening on: http://localhost:5116
2024-07-07 15:31:37.954 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-07-07 15:31:37.954 +04:00  INF  Hosting environment: Development
2024-07-07 15:31:37.954 +04:00  INF  Content root path: C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\
2024-07-07 15:31:38.331 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/index.html - -
2024-07-07 15:31:38.538 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/index.html - - - 200 - text/html;charset=utf-8 210.0880ms
2024-07-07 15:31:38.548 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - -
2024-07-07 15:31:38.548 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_vs/browserLink - -
2024-07-07 15:31:38.550 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 2.1893ms
2024-07-07 15:31:38.587 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.8356ms
2024-07-07 15:31:38.867 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - -
2024-07-07 15:31:38.961 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 94.2398ms
2024-07-07 15:38:26.679 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 15:38:37.348 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 15:38:37.845 +04:00  INF  Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-07 15:38:37.878 +04:00  INF  Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-07 15:38:37.882 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-07 15:38:37.883 +04:00  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-07 15:38:37.905 +04:00  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-07-07 15:38:37.923 +04:00  INF  Applying migration '20240707113826_CreatedAppUserTable'.
2024-07-07 15:38:38.009 +04:00  INF  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2024-07-07 15:38:38.011 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [FullName] nvarchar(max) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2024-07-07 15:38:38.014 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-07-07 15:38:38.015 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-07-07 15:38:38.018 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-07-07 15:38:38.020 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-07-07 15:38:38.021 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-07-07 15:38:38.023 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-07-07 15:38:38.024 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-07-07 15:38:38.025 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-07-07 15:38:38.025 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-07-07 15:38:38.026 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-07-07 15:38:38.027 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-07-07 15:38:38.029 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-07-07 15:38:38.030 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240707113826_CreatedAppUserTable', N'6.0.31');
2024-07-07 16:02:47.891 +04:00  INF  User profile is available. Using 'C:\Users\ASUS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-07 16:02:48.104 +04:00  INF  Now listening on: https://localhost:7136
2024-07-07 16:02:48.104 +04:00  INF  Now listening on: http://localhost:5116
2024-07-07 16:02:48.108 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-07-07 16:02:48.108 +04:00  INF  Hosting environment: Development
2024-07-07 16:02:48.108 +04:00  INF  Content root path: C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\
2024-07-07 16:02:48.786 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/index.html - -
2024-07-07 16:02:49.030 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/index.html - - - 200 - text/html;charset=utf-8 246.7785ms
2024-07-07 16:02:49.039 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - -
2024-07-07 16:02:49.041 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 1.9617ms
2024-07-07 16:02:49.148 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_vs/browserLink - -
2024-07-07 16:02:49.187 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.8005ms
2024-07-07 16:02:49.259 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - -
2024-07-07 16:02:49.377 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.2812ms
2024-07-07 16:03:08.995 +04:00  INF  Request starting HTTP/2 POST https://localhost:7136/api/Account/CreateRoles - 0
2024-07-07 16:03:09.040 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Ui.AccountController.CreateRoles (LibraryApp)'
2024-07-07 16:03:09.059 +04:00  INF  Route matched with {action = "CreateRoles", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRoles() on controller LibraryApp.Controllers.Ui.AccountController (LibraryApp).
2024-07-07 16:03:10.212 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:03:11.047 +04:00  INF  Executed DbCommand (70ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-07-07 16:03:11.091 +04:00  INF  Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-07-07 16:03:11.331 +04:00  INF  Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2024-07-07 16:03:11.363 +04:00  INF  Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-07-07 16:03:11.365 +04:00  INF  Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-07-07 16:03:11.370 +04:00  INF  Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2024-07-07 16:03:11.378 +04:00  INF  Executing StatusCodeResult, setting HTTP status code 200
2024-07-07 16:03:11.384 +04:00  INF  Executed action LibraryApp.Controllers.Ui.AccountController.CreateRoles (LibraryApp) in 2318.8203ms
2024-07-07 16:03:11.385 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Ui.AccountController.CreateRoles (LibraryApp)'
2024-07-07 16:03:11.391 +04:00  INF  Request finished HTTP/2 POST https://localhost:7136/api/Account/CreateRoles - 0 - 200 0 - 2395.3126ms
2024-07-07 16:03:55.011 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/Account/GetRoles - -
2024-07-07 16:03:55.015 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Ui.AccountController.GetRoles (LibraryApp)'
2024-07-07 16:03:55.018 +04:00  INF  Route matched with {action = "GetRoles", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller LibraryApp.Controllers.Ui.AccountController (LibraryApp).
2024-07-07 16:03:55.070 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:03:55.084 +04:00  INF  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-07-07 16:03:55.118 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Account.RoleDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 16:03:55.124 +04:00  INF  Executed action LibraryApp.Controllers.Ui.AccountController.GetRoles (LibraryApp) in 105.3843ms
2024-07-07 16:03:55.124 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Ui.AccountController.GetRoles (LibraryApp)'
2024-07-07 16:03:55.125 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/Account/GetRoles - - - 200 - application/json;+charset=utf-8 113.9230ms
2024-07-07 16:04:15.896 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/Account/GetUsers - -
2024-07-07 16:04:15.899 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Ui.AccountController.GetUsers (LibraryApp)'
2024-07-07 16:04:15.902 +04:00  INF  Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller LibraryApp.Controllers.Ui.AccountController (LibraryApp).
2024-07-07 16:04:15.924 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:04:16.006 +04:00  INF  Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-07-07 16:04:16.011 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Account.UserDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 16:04:16.012 +04:00  INF  Executed action LibraryApp.Controllers.Ui.AccountController.GetUsers (LibraryApp) in 109.9538ms
2024-07-07 16:04:16.012 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Ui.AccountController.GetUsers (LibraryApp)'
2024-07-07 16:04:16.012 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/Account/GetUsers - - - 200 - application/json;+charset=utf-8 116.0072ms
2024-07-07 16:04:57.088 +04:00  INF  Request starting HTTP/2 POST https://localhost:7136/api/Account/SignUp application/json 119
2024-07-07 16:04:57.089 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Ui.AccountController.SignUp (LibraryApp)'
2024-07-07 16:04:57.104 +04:00  INF  Route matched with {action = "SignUp", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(Service.DTOs.Account.RegisterDto) on controller LibraryApp.Controllers.Ui.AccountController (LibraryApp).
2024-07-07 16:04:57.317 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:04:57.328 +04:00  INF  Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-07 16:04:57.348 +04:00  INF  Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-07 16:04:57.410 +04:00  INF  Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FullName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2024-07-07 16:04:57.504 +04:00  INF  Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-07-07 16:04:57.534 +04:00  INF  Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2024-07-07 16:04:57.538 +04:00  INF  Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-07-07 16:04:57.560 +04:00  INF  Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-07 16:04:57.570 +04:00  INF  Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-07 16:04:57.585 +04:00  INF  Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2024-07-07 16:04:57.604 +04:00  INF  Executed DbCommand (16ms) [Parameters=[@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;
2024-07-07 16:04:57.609 +04:00  INF  Executing OkObjectResult, writing value of type 'Service.Helpers.Accounts.RegisterResponse'.
2024-07-07 16:04:57.610 +04:00  INF  Executed action LibraryApp.Controllers.Ui.AccountController.SignUp (LibraryApp) in 506.522ms
2024-07-07 16:04:57.610 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Ui.AccountController.SignUp (LibraryApp)'
2024-07-07 16:04:57.611 +04:00  INF  Request finished HTTP/2 POST https://localhost:7136/api/Account/SignUp application/json 119 - 200 - application/json;+charset=utf-8 522.4148ms
2024-07-07 16:05:05.802 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/Account/GetUsers - -
2024-07-07 16:05:05.802 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Ui.AccountController.GetUsers (LibraryApp)'
2024-07-07 16:05:05.802 +04:00  INF  Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller LibraryApp.Controllers.Ui.AccountController (LibraryApp).
2024-07-07 16:05:05.804 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:05:05.806 +04:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-07-07 16:05:05.807 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Account.UserDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 16:05:05.808 +04:00  INF  Executed action LibraryApp.Controllers.Ui.AccountController.GetUsers (LibraryApp) in 5.8689ms
2024-07-07 16:05:05.808 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Ui.AccountController.GetUsers (LibraryApp)'
2024-07-07 16:05:05.809 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/Account/GetUsers - - - 200 - application/json;+charset=utf-8 6.9876ms
2024-07-07 16:05:16.396 +04:00  INF  Request starting HTTP/2 POST https://localhost:7136/api/Account/CreateRoles - 0
2024-07-07 16:05:16.396 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Ui.AccountController.CreateRoles (LibraryApp)'
2024-07-07 16:05:16.396 +04:00  INF  Route matched with {action = "CreateRoles", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRoles() on controller LibraryApp.Controllers.Ui.AccountController (LibraryApp).
2024-07-07 16:05:16.397 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:05:16.402 +04:00  INF  Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-07-07 16:05:16.404 +04:00  INF  Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-07-07 16:05:16.404 +04:00  INF  Executing StatusCodeResult, setting HTTP status code 200
2024-07-07 16:05:16.404 +04:00  INF  Executed action LibraryApp.Controllers.Ui.AccountController.CreateRoles (LibraryApp) in 7.9223ms
2024-07-07 16:05:16.404 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Ui.AccountController.CreateRoles (LibraryApp)'
2024-07-07 16:05:16.405 +04:00  INF  Request finished HTTP/2 POST https://localhost:7136/api/Account/CreateRoles - 0 - 200 0 - 9.0833ms
2024-07-07 16:06:00.016 +04:00  INF  Request starting HTTP/2 POST https://localhost:7136/api/Account/SignIn application/json 64
2024-07-07 16:06:00.017 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Ui.AccountController.SignIn (LibraryApp)'
2024-07-07 16:06:00.021 +04:00  INF  Route matched with {action = "SignIn", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Service.DTOs.Account.LoginDto) on controller LibraryApp.Controllers.Ui.AccountController (LibraryApp).
2024-07-07 16:06:00.029 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:06:00.036 +04:00  INF  Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-07 16:06:00.040 +04:00  INF  Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-07 16:06:00.108 +04:00  INF  Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-07 16:06:00.449 +04:00  INF  Executing OkObjectResult, writing value of type 'Service.Helpers.Accounts.LoginResponse'.
2024-07-07 16:06:00.450 +04:00  INF  Executed action LibraryApp.Controllers.Ui.AccountController.SignIn (LibraryApp) in 429.7848ms
2024-07-07 16:06:00.451 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Ui.AccountController.SignIn (LibraryApp)'
2024-07-07 16:06:00.451 +04:00  INF  Request finished HTTP/2 POST https://localhost:7136/api/Account/SignIn application/json 64 - 200 - application/json;+charset=utf-8 434.5284ms
2024-07-07 16:07:10.542 +04:00  INF  User profile is available. Using 'C:\Users\ASUS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-07 16:07:10.719 +04:00  INF  Now listening on: https://localhost:7136
2024-07-07 16:07:10.719 +04:00  INF  Now listening on: http://localhost:5116
2024-07-07 16:07:10.723 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-07-07 16:07:10.723 +04:00  INF  Hosting environment: Development
2024-07-07 16:07:10.723 +04:00  INF  Content root path: C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\
2024-07-07 16:07:11.071 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/index.html - -
2024-07-07 16:07:11.282 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/index.html - - - 200 - text/html;charset=utf-8 215.0433ms
2024-07-07 16:07:11.294 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_vs/browserLink - -
2024-07-07 16:07:11.294 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - -
2024-07-07 16:07:11.296 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 1.8572ms
2024-07-07 16:07:11.329 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.9704ms
2024-07-07 16:07:11.574 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - -
2024-07-07 16:07:11.669 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 95.0922ms
2024-07-07 16:07:14.443 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/index.html - -
2024-07-07 16:07:14.448 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/index.html - - - 200 - text/html;charset=utf-8 4.8069ms
2024-07-07 16:07:14.465 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_vs/browserLink - -
2024-07-07 16:07:14.465 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - -
2024-07-07 16:07:14.466 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 0.6109ms
2024-07-07 16:07:14.476 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 11.1538ms
2024-07-07 16:07:14.557 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - -
2024-07-07 16:07:14.565 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 7.8555ms
2024-07-07 16:07:18.637 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - -
2024-07-07 16:07:18.672 +04:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-07 16:07:18.676 +04:00  INF  AuthenticationScheme: Bearer was challenged.
2024-07-07 16:07:18.676 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - - - 401 0 - 38.8257ms
2024-07-07 16:07:38.295 +04:00  INF  Request starting HTTP/2 POST https://localhost:7136/api/Account/SignIn application/json 64
2024-07-07 16:07:38.301 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Ui.AccountController.SignIn (LibraryApp)'
2024-07-07 16:07:38.337 +04:00  INF  Route matched with {action = "SignIn", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Service.DTOs.Account.LoginDto) on controller LibraryApp.Controllers.Ui.AccountController (LibraryApp).
2024-07-07 16:07:39.550 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:07:40.339 +04:00  INF  Executed DbCommand (69ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-07 16:07:40.379 +04:00  INF  Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-07 16:07:40.608 +04:00  INF  Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-07 16:07:40.718 +04:00  INF  Executing OkObjectResult, writing value of type 'Service.Helpers.Accounts.LoginResponse'.
2024-07-07 16:07:40.728 +04:00  INF  Executed action LibraryApp.Controllers.Ui.AccountController.SignIn (LibraryApp) in 2384.6286ms
2024-07-07 16:07:40.729 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Ui.AccountController.SignIn (LibraryApp)'
2024-07-07 16:07:40.734 +04:00  INF  Request finished HTTP/2 POST https://localhost:7136/api/Account/SignIn application/json 64 - 200 - application/json;+charset=utf-8 2439.6417ms
2024-07-07 16:07:49.563 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - -
2024-07-07 16:07:49.567 +04:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-07 16:07:49.568 +04:00  INF  AuthenticationScheme: Bearer was challenged.
2024-07-07 16:07:49.568 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - - - 401 0 - 5.0413ms
2024-07-07 16:08:08.813 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - -
2024-07-07 16:08:08.815 +04:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-07 16:08:08.815 +04:00  INF  AuthenticationScheme: Bearer was challenged.
2024-07-07 16:08:08.815 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - - - 401 0 - 2.1932ms
2024-07-07 16:08:10.352 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - -
2024-07-07 16:08:10.354 +04:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-07 16:08:10.354 +04:00  INF  AuthenticationScheme: Bearer was challenged.
2024-07-07 16:08:10.354 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - - - 401 0 - 2.1696ms
2024-07-07 16:08:25.839 +04:00  INF  User profile is available. Using 'C:\Users\ASUS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-07 16:08:26.022 +04:00  INF  Now listening on: https://localhost:7136
2024-07-07 16:08:26.022 +04:00  INF  Now listening on: http://localhost:5116
2024-07-07 16:08:26.025 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-07-07 16:08:26.025 +04:00  INF  Hosting environment: Development
2024-07-07 16:08:26.025 +04:00  INF  Content root path: C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\
2024-07-07 16:08:26.382 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/index.html - -
2024-07-07 16:08:26.597 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/index.html - - - 200 - text/html;charset=utf-8 217.9939ms
2024-07-07 16:08:26.606 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_vs/browserLink - -
2024-07-07 16:08:26.606 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - -
2024-07-07 16:08:26.608 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 2.2422ms
2024-07-07 16:08:26.641 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.8269ms
2024-07-07 16:08:26.859 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - -
2024-07-07 16:08:26.962 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 102.8487ms
2024-07-07 16:08:31.596 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/Account/GetUsers - -
2024-07-07 16:08:31.629 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Ui.AccountController.GetUsers (LibraryApp)'
2024-07-07 16:08:31.650 +04:00  INF  Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller LibraryApp.Controllers.Ui.AccountController (LibraryApp).
2024-07-07 16:08:32.816 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:08:33.482 +04:00  INF  Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-07-07 16:08:33.627 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Account.UserDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 16:08:33.638 +04:00  INF  Executed action LibraryApp.Controllers.Ui.AccountController.GetUsers (LibraryApp) in 1982.1568ms
2024-07-07 16:08:33.639 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Ui.AccountController.GetUsers (LibraryApp)'
2024-07-07 16:08:33.644 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/Account/GetUsers - - - 200 - application/json;+charset=utf-8 2047.7346ms
2024-07-07 16:08:51.008 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - -
2024-07-07 16:08:51.009 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 16:08:51.013 +04:00  INF  Route matched with {action = "GetAll", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 16:08:51.061 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:08:51.159 +04:00  INF  Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[Age], [a].[CreatedDate], [a].[Email], [a].[FullName], [a].[SoftDelete]
FROM [Authors] AS [a]
2024-07-07 16:08:51.167 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Authors.AuthorDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 16:08:51.169 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp) in 156.2785ms
2024-07-07 16:08:51.169 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 16:08:51.170 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - - - 200 - application/json;+charset=utf-8 162.3966ms
2024-07-07 16:08:58.327 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - -
2024-07-07 16:08:58.346 +04:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-07 16:08:58.351 +04:00  INF  AuthenticationScheme: Bearer was challenged.
2024-07-07 16:08:58.352 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - - - 401 0 - 24.9932ms
2024-07-07 16:09:18.452 +04:00  INF  Request starting HTTP/2 POST https://localhost:7136/api/Account/SignIn application/json 64
2024-07-07 16:09:18.453 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Ui.AccountController.SignIn (LibraryApp)'
2024-07-07 16:09:18.467 +04:00  INF  Route matched with {action = "SignIn", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Service.DTOs.Account.LoginDto) on controller LibraryApp.Controllers.Ui.AccountController (LibraryApp).
2024-07-07 16:09:18.518 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:09:18.637 +04:00  INF  Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-07 16:09:18.654 +04:00  INF  Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-07 16:09:18.730 +04:00  INF  Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-07 16:09:18.853 +04:00  INF  Executing OkObjectResult, writing value of type 'Service.Helpers.Accounts.LoginResponse'.
2024-07-07 16:09:18.854 +04:00  INF  Executed action LibraryApp.Controllers.Ui.AccountController.SignIn (LibraryApp) in 386.8005ms
2024-07-07 16:09:18.854 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Ui.AccountController.SignIn (LibraryApp)'
2024-07-07 16:09:18.854 +04:00  INF  Request finished HTTP/2 POST https://localhost:7136/api/Account/SignIn application/json 64 - 200 - application/json;+charset=utf-8 402.7015ms
2024-07-07 16:09:43.702 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - -
2024-07-07 16:09:43.712 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 16:09:43.712 +04:00  INF  Route matched with {action = "GetAll", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 16:09:43.714 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:09:43.717 +04:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[Age], [a].[CreatedDate], [a].[Email], [a].[FullName], [a].[SoftDelete]
FROM [Authors] AS [a]
2024-07-07 16:09:43.718 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Authors.AuthorDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 16:09:43.718 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp) in 5.8404ms
2024-07-07 16:09:43.718 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 16:09:43.719 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - - - 200 - application/json;+charset=utf-8 16.4568ms
2024-07-07 16:09:51.345 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - -
2024-07-07 16:09:51.346 +04:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-07 16:09:51.347 +04:00  INF  AuthenticationScheme: Bearer was challenged.
2024-07-07 16:09:51.347 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - - - 401 0 - 2.3595ms
2024-07-07 16:10:02.129 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetById/1 - -
2024-07-07 16:10:02.130 +04:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-07 16:10:02.131 +04:00  INF  AuthenticationScheme: Bearer was challenged.
2024-07-07 16:10:02.131 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetById/1 - - - 401 0 - 1.7282ms
2024-07-07 16:11:22.282 +04:00  INF  User profile is available. Using 'C:\Users\ASUS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-07 16:11:22.448 +04:00  INF  Now listening on: https://localhost:7136
2024-07-07 16:11:22.449 +04:00  INF  Now listening on: http://localhost:5116
2024-07-07 16:11:22.452 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-07-07 16:11:22.452 +04:00  INF  Hosting environment: Development
2024-07-07 16:11:22.452 +04:00  INF  Content root path: C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\
2024-07-07 16:11:22.902 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/index.html - -
2024-07-07 16:11:23.122 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/index.html - - - 200 - text/html;charset=utf-8 222.3627ms
2024-07-07 16:11:23.131 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - -
2024-07-07 16:11:23.131 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_vs/browserLink - -
2024-07-07 16:11:23.133 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 1.8505ms
2024-07-07 16:11:23.166 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.7098ms
2024-07-07 16:11:23.523 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - -
2024-07-07 16:11:23.639 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 115.8142ms
2024-07-07 16:11:42.398 +04:00  INF  Request starting HTTP/2 POST https://localhost:7136/api/Account/SignIn application/json 64
2024-07-07 16:11:42.433 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Ui.AccountController.SignIn (LibraryApp)'
2024-07-07 16:11:42.465 +04:00  INF  Route matched with {action = "SignIn", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Service.DTOs.Account.LoginDto) on controller LibraryApp.Controllers.Ui.AccountController (LibraryApp).
2024-07-07 16:11:43.628 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:11:44.330 +04:00  INF  Executed DbCommand (62ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-07 16:11:44.369 +04:00  INF  Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-07 16:11:44.603 +04:00  INF  Executed DbCommand (75ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-07 16:11:44.722 +04:00  INF  Executing OkObjectResult, writing value of type 'Service.Helpers.Accounts.LoginResponse'.
2024-07-07 16:11:44.734 +04:00  INF  Executed action LibraryApp.Controllers.Ui.AccountController.SignIn (LibraryApp) in 2261.0428ms
2024-07-07 16:11:44.735 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Ui.AccountController.SignIn (LibraryApp)'
2024-07-07 16:11:44.741 +04:00  INF  Request finished HTTP/2 POST https://localhost:7136/api/Account/SignIn application/json 64 - 200 - application/json;+charset=utf-8 2342.9795ms
2024-07-07 16:11:58.350 +04:00  INF  Request starting HTTP/2 POST https://localhost:7136/api/Account/AddRoleToUser application/json 36
2024-07-07 16:11:58.360 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Ui.AccountController.AddRoleToUser (LibraryApp)'
2024-07-07 16:11:58.365 +04:00  INF  Route matched with {action = "AddRoleToUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRoleToUser(Service.DTOs.Account.UserRoleDto) on controller LibraryApp.Controllers.Ui.AccountController (LibraryApp).
2024-07-07 16:11:58.422 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:11:58.439 +04:00  INF  Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-07-07 16:11:58.450 +04:00  INF  Executed DbCommand (2ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-07-07 16:11:58.452 +04:00  INF  Executed action LibraryApp.Controllers.Ui.AccountController.AddRoleToUser (LibraryApp) in 86.2726ms
2024-07-07 16:11:58.452 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Ui.AccountController.AddRoleToUser (LibraryApp)'
2024-07-07 16:11:58.456 +04:00  ERR  An unhandled exception has occurred while executing the request.System.NullReferenceException: Object reference not set to an instance of an object.
   at Service.Services.AccountService.AddRoleToUserAsync(UserRoleDto model) in C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\Service\Services\AccountService.cs:line 82
   at LibraryApp.Controllers.Ui.AccountController.AddRoleToUser(UserRoleDto request) in C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\Controllers\Ui\AccountController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)

2024-07-07 16:11:58.567 +04:00  INF  Request finished HTTP/2 POST https://localhost:7136/api/Account/AddRoleToUser application/json 36 - 500 - text/plain;+charset=utf-8 217.1390ms
2024-07-07 16:12:09.720 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/index.html - -
2024-07-07 16:12:09.725 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/index.html - - - 200 - text/html;charset=utf-8 4.6740ms
2024-07-07 16:12:09.798 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - -
2024-07-07 16:12:09.798 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_vs/browserLink - -
2024-07-07 16:12:09.798 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 0.4743ms
2024-07-07 16:12:09.809 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 10.9381ms
2024-07-07 16:12:10.085 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - -
2024-07-07 16:12:10.089 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 4.8169ms
2024-07-07 16:12:18.988 +04:00  INF  Request starting HTTP/2 POST https://localhost:7136/api/Account/AddRoleToUser application/json 36
2024-07-07 16:12:18.991 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Ui.AccountController.AddRoleToUser (LibraryApp)'
2024-07-07 16:12:18.992 +04:00  INF  Route matched with {action = "AddRoleToUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRoleToUser(Service.DTOs.Account.UserRoleDto) on controller LibraryApp.Controllers.Ui.AccountController (LibraryApp).
2024-07-07 16:12:19.014 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:12:19.025 +04:00  INF  Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-07-07 16:12:19.029 +04:00  INF  Executed DbCommand (3ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-07-07 16:12:19.030 +04:00  INF  Executed action LibraryApp.Controllers.Ui.AccountController.AddRoleToUser (LibraryApp) in 38.284ms
2024-07-07 16:12:19.030 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Ui.AccountController.AddRoleToUser (LibraryApp)'
2024-07-07 16:12:19.031 +04:00  ERR  An unhandled exception has occurred while executing the request.System.NullReferenceException: Object reference not set to an instance of an object.
   at Service.Services.AccountService.AddRoleToUserAsync(UserRoleDto model) in C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\Service\Services\AccountService.cs:line 82
   at LibraryApp.Controllers.Ui.AccountController.AddRoleToUser(UserRoleDto request) in C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\Controllers\Ui\AccountController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)

2024-07-07 16:12:19.033 +04:00  INF  Request finished HTTP/2 POST https://localhost:7136/api/Account/AddRoleToUser application/json 36 - 500 - text/plain;+charset=utf-8 45.5619ms
2024-07-07 16:13:27.721 +04:00  INF  User profile is available. Using 'C:\Users\ASUS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-07 16:13:27.896 +04:00  INF  Now listening on: https://localhost:7136
2024-07-07 16:13:27.897 +04:00  INF  Now listening on: http://localhost:5116
2024-07-07 16:13:27.900 +04:00  INF  Application started. Press Ctrl+C to shut down.
2024-07-07 16:13:27.900 +04:00  INF  Hosting environment: Development
2024-07-07 16:13:27.900 +04:00  INF  Content root path: C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\
2024-07-07 16:13:28.366 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/index.html - -
2024-07-07 16:13:28.619 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/index.html - - - 200 - text/html;charset=utf-8 257.4448ms
2024-07-07 16:13:28.627 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_vs/browserLink - -
2024-07-07 16:13:28.627 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - -
2024-07-07 16:13:28.629 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 2.5532ms
2024-07-07 16:13:28.662 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.6820ms
2024-07-07 16:13:28.726 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - -
2024-07-07 16:13:28.832 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 106.5121ms
2024-07-07 16:13:32.663 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/Account/GetRoles - -
2024-07-07 16:13:32.698 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Ui.AccountController.GetRoles (LibraryApp)'
2024-07-07 16:13:32.721 +04:00  INF  Route matched with {action = "GetRoles", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller LibraryApp.Controllers.Ui.AccountController (LibraryApp).
2024-07-07 16:13:33.903 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:13:34.565 +04:00  INF  Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-07-07 16:13:34.668 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Account.RoleDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 16:13:34.679 +04:00  INF  Executed action LibraryApp.Controllers.Ui.AccountController.GetRoles (LibraryApp) in 1951.9491ms
2024-07-07 16:13:34.679 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Ui.AccountController.GetRoles (LibraryApp)'
2024-07-07 16:13:34.687 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/Account/GetRoles - - - 200 - application/json;+charset=utf-8 2023.9789ms
2024-07-07 16:14:38.813 +04:00  INF  Request starting HTTP/2 POST https://localhost:7136/api/Account/AddRoleToUser application/json 36
2024-07-07 16:14:38.817 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Ui.AccountController.AddRoleToUser (LibraryApp)'
2024-07-07 16:14:38.835 +04:00  INF  Route matched with {action = "AddRoleToUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRoleToUser(Service.DTOs.Account.UserRoleDto) on controller LibraryApp.Controllers.Ui.AccountController (LibraryApp).
2024-07-07 16:14:38.923 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:14:39.074 +04:00  INF  Executed DbCommand (36ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-07-07 16:14:39.111 +04:00  INF  Executed DbCommand (5ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-07-07 16:14:39.114 +04:00  INF  Executed action LibraryApp.Controllers.Ui.AccountController.AddRoleToUser (LibraryApp) in 278.0642ms
2024-07-07 16:14:39.114 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Ui.AccountController.AddRoleToUser (LibraryApp)'
2024-07-07 16:14:39.119 +04:00  ERR  An unhandled exception has occurred while executing the request.System.NullReferenceException: Object reference not set to an instance of an object.
   at Service.Services.AccountService.AddRoleToUserAsync(UserRoleDto model) in C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\Service\Services\AccountService.cs:line 82
   at LibraryApp.Controllers.Ui.AccountController.AddRoleToUser(UserRoleDto request) in C:\Users\ASUS\OneDrive\Рабочий стол\API\LibraryApp\LibraryApp\Controllers\Ui\AccountController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)

2024-07-07 16:14:39.162 +04:00  INF  Request finished HTTP/2 POST https://localhost:7136/api/Account/AddRoleToUser application/json 36 - 500 - text/plain;+charset=utf-8 349.0765ms
2024-07-07 16:14:54.452 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - -
2024-07-07 16:14:54.464 +04:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-07 16:14:54.469 +04:00  INF  AuthenticationScheme: Bearer was challenged.
2024-07-07 16:14:54.470 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - - - 401 0 - 17.6670ms
2024-07-07 16:15:03.005 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - -
2024-07-07 16:15:03.006 +04:00  INF  Executing endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 16:15:03.009 +04:00  INF  Route matched with {action = "GetAll", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller LibraryApp.Controllers.Admin.AuthorController (LibraryApp).
2024-07-07 16:15:03.020 +04:00  INF  Entity Framework Core 6.0.31 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.31' with options: None
2024-07-07 16:15:03.111 +04:00  INF  Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[Age], [a].[CreatedDate], [a].[Email], [a].[FullName], [a].[SoftDelete]
FROM [Authors] AS [a]
2024-07-07 16:15:03.119 +04:00  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.DTOs.Admin.Authors.AuthorDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-07 16:15:03.121 +04:00  INF  Executed action LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp) in 112.2783ms
2024-07-07 16:15:03.121 +04:00  INF  Executed endpoint 'LibraryApp.Controllers.Admin.AuthorController.GetAll (LibraryApp)'
2024-07-07 16:15:03.122 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Author/GetAll - - - 200 - application/json;+charset=utf-8 117.0866ms
2024-07-07 16:16:23.047 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - -
2024-07-07 16:16:23.049 +04:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-07 16:16:23.049 +04:00  INF  AuthenticationScheme: Bearer was challenged.
2024-07-07 16:16:23.049 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - - - 401 0 - 2.6731ms
2024-07-07 16:32:39.676 +04:00  INF  Request starting HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - -
2024-07-07 16:32:39.677 +04:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-07 16:32:39.677 +04:00  INF  AuthenticationScheme: Bearer was challenged.
2024-07-07 16:32:39.678 +04:00  INF  Request finished HTTP/2 GET https://localhost:7136/api/admin/Book/GetAll - - - 401 0 - 1.3031ms
